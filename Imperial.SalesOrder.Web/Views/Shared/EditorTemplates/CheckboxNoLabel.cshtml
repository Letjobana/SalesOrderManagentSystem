@using Imperial.SalesOrder.Web.Helpers
@model bool
@{
    string error = "" + Html.ValidationErrorFor(m => m, " is-invalid");

    var htmlAttributes = new RouteValueDictionary();
    htmlAttributes.Add("class", (ViewBag.@class != null) ? ViewBag.@class + error : "form-check-input" + error);

    if (ViewBag.id != null)
    {
        htmlAttributes.Add("id", ViewBag.id);
    }

    if (ViewBag.ReadOnly != null && ViewBag.ReadOnly == true)
    {
        htmlAttributes.Add("disabled", true);
    }

    if (ViewBag.OnClick != null)
    {
        htmlAttributes.Add("onclick", ViewBag.OnClick);
    }

    //controlClass += Html.ValidationErrorFor(m => m, " is-invalid");
}

@*Produce the actual output for the Control*@
<div>
    @Html.CheckBox("", this.Model, htmlAttributes)
</div>
<div class="input-validation-error-message">
    @Html.ValidationMessageFor(m => m)
</div>